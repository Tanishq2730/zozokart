"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[572],{2572:(e,s,c)=>{c.r(s),c.d(s,{default:()=>u});var a=c(5043),l=c(9570),r=c(2784),t=c(223),i=c(507),d=c(2298),n=c(3216),h=c(579);const o=()=>{const[e,s]=(0,a.useState)({}),[c,l]=(0,a.useState)([]),[r,t]=(0,a.useState)([]),[o,u]=(0,a.useState)(!0),[m,j]=(0,a.useState)(!0),v=(0,n.zy)(),{categoryId:x,searchKey:f}=v.state||{};(0,a.useEffect)((()=>{(async()=>{try{const e=await(0,d.cQ)();e.success&&t(e.data)}catch(e){console.error("Error fetching filters:",e)}finally{j(!1)}})()}),[]),(0,a.useEffect)((()=>{(async e=>{u(!0);try{const s=Object.entries(e).filter((e=>{let[s,c]=e;return c&&c.length>0})).reduce(((e,s)=>{let[c,a]=s;return e[c]="PRICE_RANGE"===c||"DISCOUNT"===c?a[0]:a,e}),{}),c=await(0,d.j0)(s);c.success&&l(c.data)}catch(s){console.error("Error fetching products:",s)}finally{u(!1)}})(e)}),[e]),(0,a.useEffect)((()=>{s(x?{CATEGORIES:[x],searchKey:f}:{searchKey:f})}),[x,f]);const N=c;return(0,h.jsx)("div",{className:"container-fluid mt-4",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-3 border-end",children:(0,h.jsxs)("div",{className:"mainfiltercard",children:[(0,h.jsx)("div",{className:"filtercard",children:(0,h.jsx)("h6",{className:"mb-4",children:"Filters"})}),(0,h.jsx)("div",{className:"",children:r.map((c=>(0,h.jsxs)("div",{className:"filtercard",children:[(0,h.jsx)("div",{className:"headfilter",children:(0,h.jsx)("h4",{children:c.title.replace("_"," ")})}),c.options.map((a=>{var l;const r=(null===(l=e[c.title])||void 0===l?void 0:l.includes(a.value))||!1;return(0,h.jsxs)("div",{className:"form-check mb-2",children:[(0,h.jsx)("input",{type:"checkbox",className:"form-check-input",id:a.value,checked:r,onChange:()=>{return e=c.title,l=a.value,void s((s=>{const c=s[e]||[];let a;return a="PRICE_RANGE"===e||"DISCOUNT"===e?c.includes(l)?[]:[l]:c.includes(l)?c.filter((e=>e!==l)):[...c,l],{...s,[e]:a}}));var e,l}}),(0,h.jsx)("label",{className:"form-check-label",htmlFor:a.value,children:a.label})]},a.value)}))]},c.title)))})]})}),(0,h.jsx)("div",{className:"col-md-9",children:(0,h.jsx)("div",{className:"row",children:N.length>0?N.map((e=>(0,h.jsx)("div",{className:"col-md-3",children:(0,h.jsx)("div",{className:"catCard",children:(0,h.jsx)(i.A,{product:e},e._id)})},e.id))):(0,h.jsx)("div",{children:"No product found"})})})]})})},u=()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.A,{}),(0,h.jsx)("div",{className:"categoryPagemain",children:(0,h.jsx)(o,{})}),(0,h.jsx)(r.A,{}),(0,h.jsx)(t.A,{})]})}}]);
//# sourceMappingURL=572.070dc924.chunk.js.map