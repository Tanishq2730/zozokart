"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[219],{5219:(s,e,i)=>{i.r(e),i.d(e,{default:()=>y});var a=i(5043),c=i(6165),n=i(8024),r=(i(6356),i(160)),t=(i(5506),i(223)),l=(i(3709),i(1318)),d=i.n(l),o=i(9958),m=i(895),u=i(3003),h=i(3216),x=i(5475),j=i(1713);i(9638);var p=i(3821),v=i(1915),N=i(579);const b=s=>{let{productId:e,variation:i,initialQuantity:a=1,cart_item_id:c}=s;const n=(0,u.wA)();return(0,N.jsxs)("div",{className:"d-flex align-items-center mt-3 increasedecreaseBtn",children:[(0,N.jsx)("button",{type:"button",onClick:()=>{if(a>1){const s=a-1;n((0,v.Jb)(e,i,s,c))}},className:"btn btn-secondary btn-sm increa",children:(0,N.jsx)("i",{className:"ph ph-minus"})}),(0,N.jsx)("input",{type:"number",className:"mx-3 count w-25",value:a,min:1,readOnly:!0}),(0,N.jsx)("button",{type:"button",onClick:()=>{const s=a+1;n((0,v.Jb)(e,i,s,c))},className:"btn btn-secondary btn-sm increa",children:(0,N.jsx)("i",{className:"ph ph-plus"})})]})},g=()=>{var s,e,i;const c=(0,u.wA)(),n=(0,u.d4)((s=>s.cart.cart)),r=(0,u.d4)((s=>{var e;return null===(e=s.auth)||void 0===e?void 0:e.isAuthenticated})),t=(0,h.Zp)(),[l,d]=(0,a.useState)(n.couponCode||""),[o,m]=(0,a.useState)(n.discount||0),[g,I]=(0,a.useState)(!!n.couponCode),y=null===(s=n.items)||void 0===s?void 0:s.reduce(((s,e)=>s+e.variationId.salePrice*e.quantity),0),A=y-o+0;return(null===(e=n.items)||void 0===e?void 0:e.length)>0?(0,N.jsx)("section",{className:"cartSection",children:(0,N.jsx)("div",{className:"container",children:(0,N.jsxs)("div",{className:"row g-4",children:[(0,N.jsx)("div",{className:"col-lg-8",children:(0,N.jsxs)("div",{className:"card",children:[null===(i=n.items)||void 0===i?void 0:i.map((s=>{var e;return(0,N.jsx)("div",{className:"product-card",children:(0,N.jsxs)("div",{className:"d-flex",children:[(0,N.jsx)("img",{src:`${j.Y5}/${s.variationId.image}`,alt:s.title,className:"product-image"}),(0,N.jsxs)("div",{className:"product-details",children:[(0,N.jsx)("h6",{className:"product-title",children:s.productId.name}),(0,N.jsxs)("div",{className:"seller-name",children:["Seller: ",null===s||void 0===s||null===(e=s.vendorId)||void 0===e?void 0:e.name]}),(0,N.jsxs)("div",{className:"price-container",children:[(0,N.jsxs)("span",{className:"current-price",children:["\u20b9",s.variationId.salePrice]}),(0,N.jsxs)("span",{className:"original-price",children:["\u20b9",s.variationId.regularPrice]}),(0,N.jsxs)("span",{className:"discount",children:[Math.round((s.variationId.regularPrice-s.variationId.salePrice)/s.variationId.regularPrice*100),"% off"]})]}),(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("div",{className:"quantity-control",children:(0,N.jsx)(b,{productId:s.productId._id,variation:s.variationId,initialQuantity:parseInt(s.quantity),cart_item_id:s.id})}),(0,N.jsx)("div",{className:"action-buttons",children:(0,N.jsx)("button",{onClick:()=>c((0,v.dt)(s.productId._id,s.variationId)),children:"REMOVE"})})]})]})]})},s.id)})),(0,N.jsx)("div",{className:"p-3",children:(0,N.jsx)("button",{className:"checkout-button",onClick:()=>{r?t("/checkout"):((0,p.P)("error","Please login to continue"),t("/sign-in"))},children:"PLACE ORDER"})})]})}),(0,N.jsx)("div",{className:"col-lg-4",children:(0,N.jsx)("div",{className:"card",children:(0,N.jsxs)("div",{className:"price-details p-3",children:[(0,N.jsx)("h6",{className:"price-header",children:"PRICE DETAILS"}),(0,N.jsxs)("div",{className:"price-row",children:[(0,N.jsxs)("span",{children:["Price (",n.items.length," items)"]}),(0,N.jsxs)("span",{children:["\u20b9",y]})]}),g&&(0,N.jsxs)("div",{className:"price-row",children:[(0,N.jsx)("span",{children:"Discount"}),(0,N.jsxs)("span",{className:"text-success",children:["-\u20b9",o]})]}),(0,N.jsxs)("div",{className:"price-row",children:[(0,N.jsx)("span",{children:"Delivery Charges"}),(0,N.jsx)("span",{className:"text-success",children:"FREE"})]}),(0,N.jsxs)("div",{className:"price-row total",children:[(0,N.jsx)("span",{children:"Total Amount"}),(0,N.jsxs)("span",{children:["\u20b9",A]})]}),o>0&&(0,N.jsxs)("div",{className:"savings",children:["You will save \u20b9",o," on this order"]})]})})})]})})}):(0,N.jsxs)("section",{className:"empty-cart",children:[(0,N.jsx)("h3",{children:"Your cart is empty!"}),(0,N.jsx)(x.N_,{to:"/",className:"btn-main",children:"Continue Shopping"})]})};var I=i(9647);const y=()=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(n.A,{color:!1}),(0,N.jsx)(d(),{smooth:!0,color:"#299E60"}),(0,N.jsx)(c.A,{}),(0,N.jsx)(o.A,{}),(0,N.jsx)(I.A,{}),(0,N.jsx)(r.A,{title:"Cart"}),(0,N.jsx)(g,{}),(0,N.jsx)(m.A,{}),(0,N.jsx)(t.A,{})]})}}]);
//# sourceMappingURL=219.e00c75a3.chunk.js.map