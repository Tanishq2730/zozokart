{"version":3,"file":"static/js/219.e00c75a3.chunk.js","mappings":"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","sources":["helper/QuantityControl.jsx","components/kartpage.jsx","pages/CartPage.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updateCartQuantity } from \"../actions/cartActions\";\r\n\r\nconst QuantityControl = ({\r\n  productId,\r\n  variation,\r\n  initialQuantity = 1,\r\n  cart_item_id\r\n}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const incrementQuantity = () => {\r\n    const newQuantity = initialQuantity + 1;\r\n    dispatch(\r\n      updateCartQuantity(productId, variation, newQuantity, cart_item_id)\r\n    );\r\n  };\r\n\r\n  const decrementQuantity = () => {\r\n    if (initialQuantity > 1) {\r\n      const newQuantity = initialQuantity - 1;\r\n      dispatch(\r\n        updateCartQuantity(productId, variation, newQuantity, cart_item_id)\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex align-items-center mt-3 increasedecreaseBtn\">\r\n      <button\r\n        type=\"button\"\r\n        onClick={decrementQuantity}\r\n        className=\"btn btn-secondary btn-sm increa\"\r\n      >\r\n        <i className=\"ph ph-minus\" />\r\n      </button>\r\n      <input\r\n        type=\"number\"\r\n        className=\"mx-3 count w-25\"\r\n        value={initialQuantity}\r\n        min={1}\r\n        readOnly\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        onClick={incrementQuantity}\r\n        className=\"btn btn-secondary btn-sm increa\"\r\n      >\r\n        <i className=\"ph ph-plus\" />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuantityControl;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { verifyCoupon } from \"../api/couponAPI\";\r\nimport { showToast } from \"./ToastifyNotification\";\r\nimport { APPLY_DISCOUNT, removeFromCart } from \"../actions/cartActions\";\r\nimport { IMAGE_URL } from \"../utils/api-config\";\r\nimport QuantityControl from \"../helper/QuantityControl\";\r\nimport \"../styles/extraa.scss\";\r\n\r\nconst KartPage = () => {\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((state) => state.cart.cart);\r\n  const isAuthenticated = useSelector((state) => state.auth?.isAuthenticated);\r\n  const navigate = useNavigate();\r\n\r\n  const [couponCode, setCouponCode] = useState(cart.couponCode || \"\");\r\n  const [discount, setDiscount] = useState(cart.discount || 0);\r\n  const [isCouponApplied, setIsCouponApplied] = useState(\r\n    cart.couponCode ? true : false\r\n  );\r\n\r\n  const subtotal = cart.items?.reduce(\r\n    (total, item) => total + item.variationId.salePrice * item.quantity,\r\n    0\r\n  );\r\n  const tax = 0;\r\n  const total = subtotal - discount + tax;\r\n\r\n  const applyCoupon = async () => {\r\n    if (!couponCode) {\r\n      showToast(\"error\", \"Please enter a coupon code\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await verifyCoupon({ couponCode: couponCode });\r\n\r\n      if (response.success) {\r\n        const coupon = response.data;\r\n        const { discountType, discountAmount } = coupon;\r\n        let discount = 0;\r\n        \r\n        if (discountType === \"Fixed\") {\r\n          discount = discountAmount;\r\n        } else if (discountType === \"Percentage\") {\r\n          discount = (subtotal * discountAmount) / 100;\r\n        }\r\n\r\n        discount = Math.min(discount, subtotal);\r\n\r\n        showToast(\"success\", `Coupon applied! You saved ₹${discount}.`);\r\n        setDiscount(discount);\r\n        setIsCouponApplied(true);\r\n\r\n        dispatch({\r\n          type: APPLY_DISCOUNT,\r\n          payload: { discount: discount, couponCode: couponCode },\r\n        });\r\n      } else {\r\n        showToast(\"error\", response.message);\r\n      }\r\n    } catch (error) {\r\n      showToast(\"error\", \"Failed to apply coupon. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleCheckout = () => {\r\n    if (isAuthenticated) {\r\n      navigate(\"/checkout\");\r\n    } else {\r\n      showToast(\"error\", \"Please login to continue\");\r\n      navigate(\"/sign-in\");\r\n    }\r\n  };\r\n\r\n  return cart.items?.length > 0 ? (\r\n    <section className=\"cartSection\">\r\n      <div className=\"container\">\r\n        <div className=\"row g-4\">\r\n          <div className=\"col-lg-8\">\r\n            <div className=\"card\">\r\n              {cart.items?.map((item) => (\r\n                <div className=\"product-card\" key={item.id}>\r\n                  <div className=\"d-flex\">\r\n                    <img\r\n                      src={`${IMAGE_URL}/${item.variationId.image}`}\r\n                      alt={item.title}\r\n                      className=\"product-image\"\r\n                    />\r\n                    <div className=\"product-details\">\r\n                      <h6 className=\"product-title\">{item.productId.name}</h6>\r\n                      <div className=\"seller-name\">\r\n                        Seller: {item?.vendorId?.name}\r\n                      </div>\r\n                      <div className=\"price-container\">\r\n                        <span className=\"current-price\">\r\n                          ₹{item.variationId.salePrice}\r\n                        </span>\r\n                        <span className=\"original-price\">\r\n                          ₹{item.variationId.regularPrice}\r\n                        </span>\r\n                        <span className=\"discount\">\r\n                          {Math.round(\r\n                            ((item.variationId.regularPrice - item.variationId.salePrice) /\r\n                              item.variationId.regularPrice) *\r\n                              100\r\n                          )}\r\n                          % off\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <div className=\"quantity-control\">\r\n                          <QuantityControl\r\n                            productId={item.productId._id}\r\n                            variation={item.variationId}\r\n                            initialQuantity={parseInt(item.quantity)}\r\n                            cart_item_id={item.id}\r\n                          />\r\n                        </div>\r\n                        <div className=\"action-buttons\">\r\n                          <button\r\n                            onClick={() =>\r\n                              dispatch(\r\n                                removeFromCart(item.productId._id, item.variationId)\r\n                              )\r\n                            }\r\n                          >\r\n                            REMOVE\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              <div className=\"p-3\">\r\n                <button className=\"checkout-button\" onClick={handleCheckout}>\r\n                  PLACE ORDER\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4\">\r\n            <div className=\"card\">\r\n              <div className=\"price-details p-3\">\r\n                <h6 className=\"price-header\">PRICE DETAILS</h6>\r\n                <div className=\"price-row\">\r\n                  <span>Price ({cart.items.length} items)</span>\r\n                  <span>₹{subtotal}</span>\r\n                </div>\r\n                {isCouponApplied && (\r\n                  <div className=\"price-row\">\r\n                    <span>Discount</span>\r\n                    <span className=\"text-success\">-₹{discount}</span>\r\n                  </div>\r\n                )}\r\n                <div className=\"price-row\">\r\n                  <span>Delivery Charges</span>\r\n                  <span className=\"text-success\">FREE</span>\r\n                </div>\r\n                <div className=\"price-row total\">\r\n                  <span>Total Amount</span>\r\n                  <span>₹{total}</span>\r\n                </div>\r\n                {discount > 0 && (\r\n                  <div className=\"savings\">\r\n                    You will save ₹{discount} on this order\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  ) : (\r\n    <section className=\"empty-cart\">\r\n      <h3>Your cart is empty!</h3>\r\n      <Link to=\"/\" className=\"btn-main\">\r\n        Continue Shopping\r\n      </Link>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default KartPage;\r\n","import React from \"react\";\r\nimport Preloader from \"../helper/Preloader\";\r\nimport ColorInit from \"../helper/ColorInit\";\r\nimport HeaderTwo from \"../components/HeaderTwo\";\r\nimport Breadcrumb from \"../components/Breadcrumb\";\r\nimport FooterTwo from \"../components/FooterTwo\";\r\nimport BottomFooter from \"../components/BottomFooter\";\r\nimport ShippingOne from \"../components/ShippingOne\";\r\nimport ScrollToTop from \"react-scroll-to-top\";\r\nimport HeaderOne from \"../components/HeaderOne\";\r\nimport FooterOne from \"../components/FooterOne\";\r\nimport KartPage from \"../components/kartpage\";\r\nimport CommonCategoryHeader from \"../components/commonCategoryHeader\";\r\n\r\n\r\nconst CartPage = () => {\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      {/* ColorInit */}\r\n      <ColorInit color={false} />\r\n\r\n      {/* ScrollToTop */}\r\n      <ScrollToTop smooth color=\"#299E60\"/>\r\n\r\n      {/* Preloader */}\r\n      <Preloader />\r\n\r\n      {/* HeaderTwo */}\r\n      <HeaderOne  />\r\n      <CommonCategoryHeader/>\r\n\r\n      {/* Breadcrumb */}\r\n      <Breadcrumb title={\"Cart\"} />\r\n\r\n      {/* CartSection */}\r\n      <KartPage/>\r\n\r\n      {/* ShippingOne */}\r\n      {/* <ShippingOne /> */}\r\n\r\n      {/* FooterTwo */}\r\n      <FooterOne />\r\n\r\n      {/* BottomFooter */}\r\n      <BottomFooter />\r\n\r\n\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n"],"names":["_ref","productId","variation","initialQuantity","cart_item_id","dispatch","useDispatch","_jsxs","className","children","_jsx","type","onClick","decrementQuantity","newQuantity","updateCartQuantity","value","min","readOnly","incrementQuantity","KartPage","_cart$items","_cart$items2","_cart$items3","cart","useSelector","state","isAuthenticated","_state$auth","auth","navigate","useNavigate","couponCode","setCouponCode","useState","discount","setDiscount","isCouponApplied","setIsCouponApplied","subtotal","items","reduce","total","item","variationId","salePrice","quantity","length","map","_item$vendorId","src","IMAGE_URL","image","alt","title","name","vendorId","regularPrice","Math","round","QuantityControl","_id","parseInt","id","removeFromCart","handleCheckout","showToast","Link","to","CartPage","_Fragment","ColorInit","color","ScrollToTop","smooth","Preloader","HeaderOne","CommonCategoryHeader","Breadcrumb","FooterOne","BottomFooter"],"sourceRoot":""}