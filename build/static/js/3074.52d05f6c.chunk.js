"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[3074],{1827:(e,a,s)=>{s.d(a,{Y9:()=>l,Z1:()=>i,vN:()=>d,xu:()=>n});var r=s(1713),t=s(9638);const l=async()=>{try{return(await(0,t.A)(`${r.i3.baseURL}/web/user-address`,"GET")).data}catch(a){var e;return null===(e=a.response)||void 0===e?void 0:e.data}},d=async e=>{console.log(e);try{return(await(0,t.A)(`${r.i3.baseURL}/web/user-address`,"POST",e)).data}catch(s){var a;return null===(a=s.response)||void 0===a?void 0:a.data}},n=async(e,a)=>{try{return(await(0,t.A)(`${r.i3.baseURL}/web/user-address/${e}`,"PATCH",a)).data}catch(l){var s;return null===(s=l.response)||void 0===s?void 0:s.data}},i=async e=>{try{return(await(0,t.A)(`${r.i3.baseURL}/web/user-address/${e}`,"DELETE")).data}catch(s){var a;return null===(a=s.response)||void 0===a?void 0:a.data}}},6834:(e,a,s)=>{s.d(a,{j0:()=>n,jE:()=>d,s2:()=>l});var r=s(1713),t=s(6213);const l=async()=>{try{return(await t.A.get(`${r.i3.baseURL}/web/banners`,{headers:r.i3.headers})).data}catch(a){var e;return null===(e=a.response)||void 0===e?void 0:e.data}},d=async()=>{try{return(await t.A.get(`${r.i3.baseURL}/web/categories`,{headers:r.i3.headers})).data}catch(a){var e;return null===(e=a.response)||void 0===e?void 0:e.data}},n=async()=>{try{return(await t.A.post(`${r.i3.baseURL}/web/products`,{headers:r.i3.headers})).data}catch(a){var e;return null===(e=a.response)||void 0===e?void 0:e.data}}},2298:(e,a,s)=>{s.d(a,{Gm:()=>n,cQ:()=>l,j0:()=>d});var r=s(1713),t=s(6213);const l=async e=>{try{return(await t.A.get(`${r.i3.baseURL}/web/get-filters`,{headers:r.i3.headers})).data}catch(s){var a;return null===(a=s.response)||void 0===a?void 0:a.data}},d=async e=>{try{return(await t.A.post(`${r.i3.baseURL}/web/products`,e,{headers:r.i3.headers})).data}catch(s){var a;return null===(a=s.response)||void 0===a?void 0:a.data}},n=async e=>{try{return(await t.A.get(`${r.i3.baseURL}/web/product-details/${e}`,{headers:r.i3.headers})).data}catch(s){var a;return null===(a=s.response)||void 0===a?void 0:a.data}}},2784:(e,a,s)=>{s.d(a,{A:()=>n});var r=s(5043),t=s(5475),l=s(6834),d=s(579);const n=()=>{const[e,a]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{(async()=>{try{const e=await(0,l.jE)();e.success&&(console.log(e.data),a(e.data))}catch(e){console.error("Error fetching banners:",e)}finally{n(!1)}})()}),[]),(0,d.jsxs)("footer",{className:"footer py-60",children:[(0,d.jsx)("img",{src:"/assets/images/bg/body-bottom-bg.png",alt:"BG",className:"body-bottom-bg"}),(0,d.jsx)("div",{className:"container container-lg",children:(0,d.jsxs)("div",{className:"footer-item-wrapper d-flex align-items-start flex-wrap",children:[(0,d.jsxs)("div",{className:"footer-item",children:[(0,d.jsx)("div",{className:"footer-item__logo",children:(0,d.jsxs)(t.N_,{to:"/",children:[" ",(0,d.jsx)("img",{src:"/assets/images/logo/logo.png",alt:""})]})}),(0,d.jsxs)("p",{className:"mb-24",children:["At Zozo Kart, we bring you a curated ",(0,d.jsx)("br",{}),"collection of stylish clothing and premium bags, ",(0,d.jsx)("br",{}),"designed to elevate your fashion statement. ",(0,d.jsx)("br",{}),"Explore our trendy and high-quality products, ",(0,d.jsx)("br",{}),"crafted for elegance and comfort."]})]}),(0,d.jsxs)("div",{className:"footer-item",children:[(0,d.jsx)("h6",{className:"footer-item__title",children:"Useful Links"}),(0,d.jsxs)("ul",{className:"footer-menu",children:[(0,d.jsx)("li",{className:"mb-5",children:(0,d.jsx)(t.N_,{to:"/",className:"text-gray-600 hover-text-main-600",children:"Home"})}),(0,d.jsx)("li",{className:"mb-5",children:(0,d.jsx)(t.N_,{to:"/about",className:"text-gray-600 hover-text-main-600",children:"About Us"})}),(0,d.jsx)("li",{className:"mb-5",children:(0,d.jsx)(t.N_,{to:"/",className:"text-gray-600 hover-text-main-600",children:"Shop"})}),(0,d.jsx)("li",{className:"mb-5",children:(0,d.jsx)(t.N_,{to:"/contact",className:"text-gray-600 hover-text-main-600",children:"CONTACT US"})})]})]}),(0,d.jsxs)("div",{className:"footer-item",children:[(0,d.jsx)("h6",{className:"footer-item__title",children:"Categories"}),(0,d.jsx)("ul",{className:"footer-menu",children:e&&e.map((e=>(0,d.jsx)("li",{className:"mb-5",children:(0,d.jsx)(t.N_,{to:"/",className:"text-gray-600 hover-text-main-600",children:e.name})})))})]}),(0,d.jsxs)("div",{className:"footer-item",children:[(0,d.jsx)("h6",{className:"footer-item__title",children:"Shopping In"}),(0,d.jsxs)("ul",{className:"footer-menu",children:[(0,d.jsx)("li",{className:"mb-5",children:(0,d.jsx)(t.N_,{to:"/privacy-policy",className:"text-gray-600 hover-text-main-600",children:"Privacy Policy"})}),(0,d.jsx)("li",{className:"mb-5",children:(0,d.jsx)(t.N_,{to:"/returns-policy",className:"text-gray-600 hover-text-main-600",children:"Returns Policy"})}),(0,d.jsx)("li",{className:"mb-5",children:(0,d.jsx)(t.N_,{to:"/terms-conditions",className:"text-gray-600 hover-text-main-600",children:"Terms and Conditions"})}),(0,d.jsx)("li",{className:"mb-5",children:(0,d.jsx)(t.N_,{to:"/shipping-policy",className:"text-gray-600 hover-text-main-600",children:"Shipping & Delivery Policy"})}),(0,d.jsx)("li",{className:"mb-5",children:(0,d.jsx)(t.N_,{to:"/refund-policy",className:"text-gray-600 hover-text-main-600",children:"Refund & Cancellation Policy"})})]})]}),(0,d.jsxs)("div",{className:"footer-item",children:[(0,d.jsx)("h6",{className:"footer-item__title",children:"Contact Us"}),(0,d.jsx)("div",{className:"",children:(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsxs)("p",{className:"text-dark",children:["It is a long established fact that a reader",(0,d.jsx)("br",{})," will be distracted by the readable content ",(0,d.jsx)("br",{}),"of a page when looking at its layout."]})}),(0,d.jsx)("li",{className:"text-dark",children:(0,d.jsx)(t.N_,{to:"/",className:"text-dark",children:"+91 93712900000"})}),(0,d.jsx)("li",{className:"text-dark",children:(0,d.jsx)(t.N_,{to:"/",className:"text-dark",children:"support@zozokart.in"})})]})}),(0,d.jsxs)("div",{className:"flex-align gap-8 my-10",children:[(0,d.jsx)(t.N_,{to:"/https://www.apple.com/store",className:"",children:(0,d.jsx)("img",{src:"assets/images/thumbs/store-img1.png",alt:""})}),(0,d.jsx)(t.N_,{to:"/https://play.google.com/store/apps?hl=en",className:"",children:(0,d.jsx)("img",{src:"assets/images/thumbs/store-img2.png",alt:""})})]}),(0,d.jsxs)("ul",{className:"flex-align gap-16",children:[(0,d.jsx)("li",{children:(0,d.jsx)(t.N_,{to:"/https://www.facebook.com",className:"w-44 h-44 flex-center bg-main-100 text-main-600 text-xl rounded-circle hover-bg-main-600 hover-text-white",children:(0,d.jsx)("i",{className:"ph-fill ph-facebook-logo"})})}),(0,d.jsx)("li",{children:(0,d.jsx)(t.N_,{to:"/https://www.twitter.com",className:"w-44 h-44 flex-center bg-main-100 text-main-600 text-xl rounded-circle hover-bg-main-600 hover-text-white",children:(0,d.jsx)("i",{className:"ph-fill ph-twitter-logo"})})}),(0,d.jsx)("li",{children:(0,d.jsx)(t.N_,{to:"/https://www.linkedin.com",className:"w-44 h-44 flex-center bg-main-100 text-main-600 text-xl rounded-circle hover-bg-main-600 hover-text-white",children:(0,d.jsx)("i",{className:"ph-fill ph-instagram-logo"})})}),(0,d.jsx)("li",{children:(0,d.jsx)(t.N_,{to:"/https://www.pinterest.com",className:"w-44 h-44 flex-center bg-main-100 text-main-600 text-xl rounded-circle hover-bg-main-600 hover-text-white",children:(0,d.jsx)("i",{className:"ph-fill ph-linkedin-logo"})})})]})]})]})})]})}},7458:(e,a,s)=>{s.d(a,{A:()=>p});var r=s(1209),t=s(6953),l=s(4562),d=s(9859),n=s(4468),i=s(3003),o=s(3216),c=s(5475),m=(s(6826),s(6834)),h=s(5043),u=s(2298),x=s(579);function p(){var e,a,s,p;const y=(0,o.Zp)(),j=((0,i.wA)(),(0,i.d4)((e=>{var a;return null===(a=e.auth)||void 0===a?void 0:a.isAuthenticated}))),[N,g]=(0,h.useState)([]),[v,f]=(0,h.useState)(""),[b,w]=(0,h.useState)(!0),[A,_]=(0,h.useState)(""),[k,P]=(0,h.useState)([]),[C,S]=(0,h.useState)(!1),[F,T]=(0,h.useState)(!1);(0,h.useEffect)((()=>{if(F)return void T(!1);const e=setTimeout((()=>{(async()=>{if(A.trim()){w(!0);try{const e=await(0,u.j0)({searchKey:A});e.success&&(P(e.data),S(!0))}catch(e){console.error("Error fetching suggestions:",e)}finally{w(!1)}}else P([]),S(!1)})()}),300);return()=>clearTimeout(e)}),[A]);(0,h.useEffect)((()=>{(async()=>{try{const e=await(0,m.jE)();e.success&&(console.log(e.data),g(e.data))}catch(e){console.error("Error fetching banners:",e)}finally{w(!1)}})()}),[]);const E=(0,i.d4)((e=>{var a;return null===(a=e.cart)||void 0===a?void 0:a.cart}))||{},z=(null===(e=E.items)||void 0===e?void 0:e.length)>0?null===(a=E.items)||void 0===a?void 0:a.reduce(((e,a)=>e+parseInt(a.quantity)),0):0;(null===(s=E.items)||void 0===s?void 0:s.length)>0&&(null===(p=E.items)||void 0===p||p.reduce(((e,a)=>{var s;return e+a.quantity*((null===(s=a.product_variation)||void 0===s?void 0:s.sale_price)||0)}),0));return(0,x.jsxs)("div",{className:"headers",children:[(0,x.jsx)("div",{className:"mainheader text-dark px-5 py-5",children:(0,x.jsx)("div",{className:"container-fluid",children:(0,x.jsx)("header",{className:"align-items-center justify-content-between",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-4 m-auto",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"h3 fw-bold mb-0 logo",onClick:()=>y("/"),children:(0,x.jsx)("img",{src:"/assets/images/logo/logo.png",alt:"Logo"})})}),(0,x.jsx)("div",{className:"col-md-6 m-auto",children:(0,x.jsxs)("div",{className:"location",children:[(0,x.jsx)(r.A,{}),(0,x.jsxs)("div",{className:"locationDe",children:[(0,x.jsx)("span",{children:"Delivery to Udaipur 313001"}),(0,x.jsx)("p",{children:"Update Location"})]})]})})]})}),(0,x.jsxs)("div",{className:"col-md-4 m-auto",children:[(0,x.jsxs)("div",{className:"input-group w-100",children:[(0,x.jsxs)("select",{className:"form-select bg-light searchdropdown",onChange:e=>f(e.target.value),children:[(0,x.jsx)("option",{value:"",children:"Select"}),N&&N.map((e=>(0,x.jsx)("option",{value:e._id,children:e.name},e._id)))]}),(0,x.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Amazon",onChange:e=>_(e.target.value),value:A}),(0,x.jsx)("button",{className:"btn btn-light",children:(0,x.jsx)(t.A,{className:"text-dark",onClick:()=>{y("/product",{state:{categoryId:v,searchKey:A}})}})})]}),b&&(0,x.jsx)("div",{className:"position-absolute top-0 end-0 p-2",children:"Loading..."}),C&&k.length>0&&(0,x.jsx)("ul",{className:"position-absolute bg-white border rounded shadow w-25 mt-1 zindex-dropdown",children:k.map(((e,a)=>(0,x.jsx)("li",{onClick:()=>{return a=e.name,T(!0),_(a),void S(!1);var a},className:"px-3 py-2 hover-bg-light cursor-pointer",children:e.name},a)))})]}),(0,x.jsx)("div",{className:"col-md-4 m-auto",children:(0,x.jsxs)("div",{className:"d-flex gap-4 justify-content-end align-items-center",children:[(0,x.jsx)("div",{className:"text-center cursor-pointer",children:(0,x.jsxs)(c.N_,{className:"account",to:j?"/dashboard":"/sign-in",children:[(0,x.jsx)(l.A,{size:20}),(0,x.jsx)("div",{className:"small",children:j?"Dashboard":"Account"})]})}),(0,x.jsx)("div",{className:"text-center cursor-pointer",children:(0,x.jsxs)(c.N_,{className:"account",to:"/seller-sign-in",children:[(0,x.jsx)(d.A,{size:20}),(0,x.jsx)("div",{className:"small",children:"Become a seller"})]})}),(0,x.jsxs)("div",{className:"text-center position-relative cursor-pointer",onClick:()=>y("/cart"),children:[(0,x.jsx)(n.A,{size:20}),(0,x.jsx)("div",{className:"small",children:"Cart"}),(0,x.jsx)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:z})]})]})})]})})})}),(0,x.jsx)("div",{className:"headerCategory",children:(0,x.jsx)("nav",{className:"headcat text-white py-5",children:(0,x.jsx)("div",{className:"container-fluid mx-auto flex space-x-4 m-auto px-4",children:N&&N.map((e=>(0,x.jsxs)("span",{className:"cursor-pointer hover:underline whitespace-nowrap",onClick:()=>y("/product",{state:{categoryId:e._id}}),children:[console.log(e.name),e.name]},e._id)))})})})]})}},3074:(e,a,s)=>{s.r(a),s.d(a,{default:()=>$});var r=s(5043),t=s(6165),l=s(8024),d=(s(6356),s(160)),n=(s(5506),s(223)),i=s(3709),o=s(3003),c=s(3216),m=s(5475),h=s(1713),u=s(9638);const x=async e=>{try{return(await(0,u.A)(`${h.i3.baseURL}/web/place-order`,"POST",e)).data}catch(s){var a;return null===(a=s.response)||void 0===a?void 0:a.data}};var p=s(1827),y=s(3821),j=s(3),N=s(591),g=s(782),v=s(6221),f=s(2327),b=s(2345),w=s(7550),A=s(7493),_=s(2679),k=s(6259);var P=s(1915),C=s(579);const S=()=>{var e;const[a,s]=(0,r.useState)("paynow"),[t,l]=(0,r.useState)([]),[d,n]=(0,r.useState)(null),[i,S]=(0,r.useState)(!1),[F,T]=(0,r.useState)(null),[E,z]=(0,r.useState)(null),[$,R]=(0,r.useState)({fullName:"",phoneNumber:"",alternatePhoneNumber:"",pinCode:"",state:"",city:"",houseNumber:"",area:"",nearByFamous:"",default:!1,addressType:"Home"}),U=(0,o.wA)(),I=(0,c.Zp)(),L=(0,o.d4)((e=>null===e||void 0===e?void 0:e.cart.cart)),O=(0,o.d4)((e=>{var a;return null===(a=e.auth)||void 0===a?void 0:a.isAuthenticated})),D=(0,o.d4)((e=>{var a;return null===(a=e.auth)||void 0===a?void 0:a.user})),[H,q]=(0,r.useState)(!1);if((0,r.useEffect)((()=>{O||I("/sign-in")}),[O,I]),(0,r.useEffect)((()=>{(async()=>{if(O&&null!==D&&void 0!==D&&D._id)try{const e=await(0,p.Y9)();if(null!==e&&void 0!==e&&e.success){l(e.data);const a=e.data.find((e=>e.defaultAddress));a?n(a._id):e.data.length>0&&n(e.data[0]._id)}else(0,y.P)("error",(null===e||void 0===e?void 0:e.message)||"Failed to fetch addresses.")}catch(e){(0,y.P)("error","Error fetching addresses.")}})()}),[O,null===D||void 0===D?void 0:D._id]),null===L||void 0===L||!L.items)return(0,C.jsx)("p",{className:"text-center py-40",children:"Your cart is empty."});const B=e=>{s(e.target.id)},M=()=>{S(!1),T(null),z(null),R({fullName:"",phoneNumber:"",alternatePhoneNumber:"",pinCode:"",state:"",city:"",houseNumber:"",area:"",nearByFamous:"",defaultAddress:!1,addressType:"Home"})},Y=e=>{const{name:a,value:s,type:r,checked:t}=e.target;R((e=>({...e,[a]:"checkbox"===r?t:s})))};return(0,C.jsx)("section",{className:"checkout py-20",children:(0,C.jsxs)("div",{className:"container",children:[(0,C.jsxs)(j.A,{size:"lg",isOpen:i,toggle:M,className:"address-modal",children:[(0,C.jsx)(N.A,{toggle:M,children:"add"===F?"Add New Delivery Address":"Edit Delivery Address"}),(0,C.jsx)(g.A,{children:(0,C.jsx)(v.A,{children:(0,C.jsxs)(f.A,{className:"gy-3",children:[(0,C.jsx)(b.A,{sm:6,children:(0,C.jsxs)(w.A,{children:[(0,C.jsx)(A.A,{for:"fullName",children:"Full Name"}),(0,C.jsx)(_.A,{type:"text",className:"common-input border-gray-100",placeholder:"Full Name",name:"fullName",value:$.fullName,onChange:Y,required:!0})]})}),(0,C.jsx)(b.A,{sm:6,children:(0,C.jsxs)(w.A,{children:[(0,C.jsx)(A.A,{for:"phoneNumber",children:"Phone Number"}),(0,C.jsx)(_.A,{type:"text",className:"common-input border-gray-100",placeholder:"Phone Number",name:"phoneNumber",value:$.phoneNumber,onChange:Y,required:!0})]})}),(0,C.jsx)(b.A,{xs:12,children:(0,C.jsxs)(w.A,{children:[(0,C.jsx)(A.A,{for:"alternatePhoneNumber",children:"Alternate Phone Number (Optional)"}),(0,C.jsx)(_.A,{type:"text",className:"common-input border-gray-100",placeholder:"Alternate Phone Number (Optional)",name:"alternatePhoneNumber",value:$.alternatePhoneNumber,onChange:Y})]})}),(0,C.jsx)(b.A,{md:6,xs:12,children:(0,C.jsxs)(w.A,{children:[(0,C.jsx)(A.A,{for:"pinCode",children:"Pin Code"}),(0,C.jsx)(_.A,{type:"text",className:"common-input border-gray-100",placeholder:"Pin Code",name:"pinCode",value:$.pinCode,onChange:Y,required:!0})]})}),(0,C.jsx)(b.A,{md:6,xs:12,children:(0,C.jsxs)(w.A,{children:[(0,C.jsx)(A.A,{for:"state",children:"State"}),(0,C.jsx)(_.A,{type:"text",className:"common-input border-gray-100",placeholder:"State",name:"state",value:$.state,onChange:Y,required:!0})]})}),(0,C.jsx)(b.A,{md:6,xs:12,children:(0,C.jsxs)(w.A,{children:[(0,C.jsx)(A.A,{for:"city",children:"City"}),(0,C.jsx)(_.A,{type:"text",className:"common-input border-gray-100",placeholder:"City",name:"city",value:$.city,onChange:Y,required:!0})]})}),(0,C.jsx)(b.A,{md:6,xs:12,children:(0,C.jsxs)(w.A,{children:[(0,C.jsx)(A.A,{for:"houseNumber",children:"House Number (Optional)"}),(0,C.jsx)(_.A,{type:"text",className:"common-input border-gray-100",placeholder:"House Number (Optional)",name:"houseNumber",value:$.houseNumber,onChange:Y})]})}),(0,C.jsx)(b.A,{xs:12,children:(0,C.jsxs)(w.A,{children:[(0,C.jsx)(A.A,{for:"area",children:"Area (Optional)"}),(0,C.jsx)(_.A,{type:"text",className:"common-input border-gray-100",placeholder:"Area (Optional)",name:"area",value:$.area,onChange:Y})]})}),(0,C.jsx)(b.A,{xs:12,children:(0,C.jsxs)(w.A,{children:[(0,C.jsx)(A.A,{for:"nearByFamous",children:"Nearby Famous Place (Optional)"}),(0,C.jsx)(_.A,{type:"text",className:"common-input border-gray-100",placeholder:"Nearby Famous Place (Optional)",name:"nearByFamous",value:$.nearByFamous,onChange:Y})]})}),(0,C.jsx)(b.A,{xs:12,children:(0,C.jsxs)(w.A,{className:"form-check common-check",children:[(0,C.jsx)(_.A,{type:"checkbox",className:"form-check-input",id:"isDefaultModal",name:"defaultAddress",checked:$.defaultAddress,onChange:Y}),(0,C.jsx)(A.A,{className:"form-check-label fw-normal text-neutral-600",htmlFor:"isDefaultModal",children:"Set as default address"})]})}),(0,C.jsx)(b.A,{xs:12,children:(0,C.jsxs)(w.A,{className:"form-check common-check",children:[(0,C.jsx)(_.A,{type:"radio",className:"form-check-input",id:"addressTypeHomeModal",name:"addressType",value:"Home",checked:"Home"===$.addressType,onChange:Y}),(0,C.jsx)(A.A,{className:"form-check-label fw-normal text-neutral-600 me-3",htmlFor:"addressTypeHomeModal",children:"Home"}),(0,C.jsx)(_.A,{type:"radio",className:"form-check-input",id:"addressTypeWorkModal",name:"addressType",value:"Work",checked:"Work"===$.addressType,onChange:Y}),(0,C.jsx)(A.A,{className:"form-check-label fw-normal text-neutral-600",htmlFor:"addressTypeWorkModal",children:"Work"})]})}),(0,C.jsxs)(b.A,{xs:12,className:"mt-3",children:[(0,C.jsx)(k.A,{color:"primary",className:"rounded-pill me-2",onClick:async()=>{if(null!==D&&void 0!==D&&D._id)try{let s;var e;if("add"===F)if(s=await(0,p.vN)($),s.success)(0,y.P)("success","New address added successfully."),l([...t,s.data]),s.data.defaultAddress?(n(s.data._id),l((e=>e.map((e=>e._id===s.data._id?{...e,defaultAddress:!0}:{...e,default:!1}))))):d||0!==t.length||n(s.data._id),M();else(0,y.P)("error",(null===(e=s)||void 0===e?void 0:e.message)||"Failed to add new address.");else if("edit"===F&&null!==E&&void 0!==E&&E._id){var a;if(s=await(0,p.xu)(E._id,$),s.success)(0,y.P)("success","Address updated successfully."),l((e=>e.map((e=>e._id===E._id?s.data:e)))),s.data.defaultAddress&&(n(s.data._id),l((e=>e.map((e=>e._id===s.data._id?{...e,defaultAddress:!0}:{...e,defaultAddress:!1}))))),M();else(0,y.P)("error",(null===(a=s)||void 0===a?void 0:a.message)||"Failed to update address.")}}catch(s){(0,y.P)("error",`Error ${"add"===F?"adding":"updating"} address.`)}else(0,y.P)("error","User not authenticated.")},children:"add"===F?"Add Address":"Save Changes"}),(0,C.jsx)(k.A,{color:"secondary",className:"rounded-pill",onClick:M,children:"Cancel"})]})]})})})]}),(0,C.jsxs)("div",{className:"row",children:[(0,C.jsx)("div",{className:"col-xl-7 col-lg-7",children:(0,C.jsxs)("div",{className:"mb-40",children:[(0,C.jsx)("h6",{className:"text-lg mb-24",children:"Select Delivery Address"}),t.length>0?t.map((e=>(0,C.jsxs)("div",{className:"border border-gray-200 rounded-8 p-24 mb-16 "+(d===e._id?"border-main-600":""),children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-12",children:[(0,C.jsxs)("div",{className:"form-check common-check common-radio",children:[(0,C.jsx)(_.A,{className:"form-check-input",type:"radio",name:"deliveryAddress",id:`address-${e._id}`,value:e._id,checked:d===e._id,onChange:()=>{return a=e._id,void n(a);var a}}),(0,C.jsxs)(A.A,{className:"form-check-label fw-semibold text-gray-900",htmlFor:`address-${e._id}`,children:[e.fullName," (",e.addressType,") ",e.defaultAddress&&(0,C.jsx)("span",{className:"text-sm text-main-600",children:"(Default)"})]})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(k.A,{color:"primary",size:"sm",className:"me-1",onClick:()=>(e=>{T("edit"),R({...e}),z(e),S(!0)})(e),children:"Edit"}),(0,C.jsx)(k.A,{color:"danger",size:"sm",className:"text-danger",onClick:()=>(async e=>{if(null!==D&&void 0!==D&&D._id&&e){if(window.confirm("Are you sure you want to delete this address?"))try{const a=await(0,p.Z1)(e);null!==a&&void 0!==a&&a.success?((0,y.P)("success","Address deleted successfully."),l((a=>a.filter((a=>a._id!==e)))),d===e&&n(t.length>1?t[0]._id:null)):(0,y.P)("error",(null===a||void 0===a?void 0:a.message)||"Failed to delete address.")}catch(a){(0,y.P)("error","Error deleting address.")}}else(0,y.P)("error","Invalid request to delete address.")})(e._id),children:"Delete"})]})]}),(0,C.jsxs)("p",{className:"text-gray-700 mb-8",children:[e.houseNumber&&`${e.houseNumber}, `,e.area,", ",e.nearByFamous&&`Near ${e.nearByFamous}, `,e.city,", ",e.state," - ",e.pinCode]}),(0,C.jsxs)("p",{className:"text-gray-700",children:["Phone: ",e.phoneNumber,e.alternatePhoneNumber&&`, Alt: ${e.alternatePhoneNumber}`]})]},e._id))):(0,C.jsx)("p",{className:"text-gray-500",children:"No delivery addresses found. Please add a new one."}),(0,C.jsx)(k.A,{color:"secondary",className:"rounded-pill mt-16",onClick:()=>{T("add"),R({fullName:"",phoneNumber:"",alternatePhoneNumber:"",pinCode:"",state:"",city:"",houseNumber:"",area:"",nearByFamous:"",defaultAddress:!1,addressType:"Home"}),z(null),S(!0)},children:"Add New Address"})]})}),(0,C.jsx)("div",{className:"col-xl-5 col-lg-5",children:(0,C.jsxs)("div",{className:"checkout-sidebar",children:[(0,C.jsx)("div",{className:"bg-color-three rounded-8 p-24 text-center",children:(0,C.jsx)("span",{className:"text-gray-900 text-xl fw-semibold",children:"Your Orders"})}),(0,C.jsxs)("div",{className:"border border-gray-100 rounded-8 px-24 py-40 mt-24",children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-32 pb-32 border-bottom border-gray-100 gap-8",children:[(0,C.jsx)("span",{className:"text-gray-900 fw-medium text-xl font-heading-two",children:"Product"}),(0,C.jsx)("span",{className:"text-gray-900 fw-medium text-xl font-heading-two",children:"Subtotal"})]}),L.items.length>0?null===(e=L.items)||void 0===e?void 0:e.map((e=>(0,C.jsxs)("div",{className:"d-flex justify-content-between gap-24 mb-32",children:[(0,C.jsxs)("div",{className:"d-flex align-items-center gap-12",children:[(0,C.jsx)("span",{className:"text-gray-900 fw-normal text-md font-heading-two w-144",children:e.productId.name}),(0,C.jsx)("span",{className:"text-gray-900 fw-normal text-md font-heading-two",children:(0,C.jsx)("i",{className:"ph-bold ph-x"})}),(0,C.jsx)("span",{className:"text-gray-900 fw-semibold text-md font-heading-two",children:e.quantity})]}),(0,C.jsxs)("span",{className:"text-gray-900 fw-bold text-md font-heading-two",children:["\u20b9",e.quantity*e.variationId.salePrice]})]},e.productId._id+e.variationId._id))):(0,C.jsxs)("div",{className:"empty-cart p-10 text-center",style:{flex:1},children:[(0,C.jsx)("p",{className:"text-black",children:"No products in the cart."}),(0,C.jsx)(m.N_,{to:"/shop",className:"btn btn-main d-inline-flex align-items-center rounded-pill gap-8 mt-24",children:"Return To Shop"})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-between gap-24 py-20  border-top",children:[(0,C.jsx)("div",{className:"d-flex align-items-center gap-12",children:(0,C.jsx)("span",{className:"text-gray-900 fw-normal text-md font-heading-two w-144",children:"Subtotal"})}),(0,C.jsxs)("span",{className:"text-gray-900 fw-bold text-md font-heading-two",children:["\u20b9",L.subTotal]})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-between gap-24 py-20 border-top",children:[(0,C.jsx)("div",{className:"d-flex align-items-center gap-12",children:(0,C.jsx)("span",{className:"text-gray-900 fw-normal text-md font-heading-two w-144",children:"Shipping"})}),(0,C.jsx)("span",{className:"text-gray-900 fw-bold text-md font-heading-two",children:"Free"})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-between gap-24 py-20  border-top",children:[(0,C.jsx)("div",{className:"d-flex align-items-center gap-12",children:(0,C.jsx)("span",{className:"text-gray-900 fw-normal text-md font-heading-two w-144",children:"Discount"})}),(0,C.jsxs)("span",{className:"text-gray-900 fw-bold text-md font-heading-two",children:["\u20b9",L.discount]})]}),(0,C.jsxs)("div",{className:"d-flex justify-content-between gap-24 py-20  border-top",children:[(0,C.jsx)("div",{className:"d-flex align-items-center gap-12",children:(0,C.jsx)("span",{className:"text-gray-900 fw-normal text-md font-heading-two w-144",children:"Total"})}),(0,C.jsxs)("span",{className:"text-gray-900 fw-bold text-md font-heading-two",children:["\u20b9",L.total]})]})]}),(0,C.jsxs)("div",{className:"mt-32",children:[(0,C.jsxs)("div",{className:"payment-item",children:[(0,C.jsxs)("div",{className:"form-check common-check common-radio py-16 mb-0",children:[(0,C.jsx)(_.A,{className:"form-check-input",type:"radio",name:"payment",id:"paynow",checked:"paynow"===a,onChange:B}),(0,C.jsx)(A.A,{className:"form-check-label fw-semibold text-neutral-600",htmlFor:"paynow",children:"Pay Now"})]}),"paynow"===a&&(0,C.jsx)("div",{className:"payment-item__content px-16 py-24 rounded-8 bg-main-50 position-relative d-block",children:(0,C.jsx)("p",{className:"text-gray-800",children:"Make your payment directly into our bank account. Please use your Order ID as the payment reference. Your order will not be shipped until the funds have cleared in our account."})})]}),(0,C.jsxs)("div",{className:"payment-item",children:[(0,C.jsxs)("div",{className:"form-check common-check common-radio py-16 mb-0",children:[(0,C.jsx)(_.A,{className:"form-check-input",type:"radio",name:"payment",id:"cod",checked:"cod"===a,onChange:B}),(0,C.jsx)(A.A,{className:"form-check-label fw-semibold text-neutral-600",htmlFor:"cod",children:"Cash on delivery"})]}),"cod"===a&&(0,C.jsx)("div",{className:"payment-item__content px-16 py-24 rounded-8 bg-main-50 position-relative d-block",children:(0,C.jsx)("p",{className:"text-gray-800",children:"Pay with cash upon delivery."})})]})]}),(0,C.jsx)("div",{className:"mt-32 pt-32 border-top border-gray-100",children:(0,C.jsxs)("p",{className:"text-gray-500",children:["Your personal data will be used to process your order, support your experience throughout this website, and for other purposes described in our"," ",(0,C.jsxs)(m.N_,{to:"#",className:"text-main-600 text-decoration-underline",children:[" ","privacy policy"]})," ","."]})}),(0,C.jsx)(k.A,{color:"primary",className:"mt-40 py-18 w-100 rounded-8 mt-56",onClick:async()=>{if("paynow"===a){if(!d)return void(0,y.P)("warning","Please select a delivery address.");if(!await new Promise((e=>{if(document.querySelector('script[src="https://checkout.razorpay.com/v1/checkout.js"]'))return void e(!0);const a=document.createElement("script");a.src="https://checkout.razorpay.com/v1/checkout.js",a.onload=()=>e(!0),a.onerror=()=>e(!1),document.body.appendChild(a)})))return void(0,y.P)("error","Failed to load Razorpay SDK.");U({type:"loader",loader:!0});try{var e;const a=await(async e=>{try{return(await(0,u.A)(`${h.i3.baseURL}/web/create-razorpay-order`,"POST",e)).data}catch(s){var a;return null===(a=s.response)||void 0===a?void 0:a.data}})({amount:100*L.total});if(!a.success){const e=a.message;return void(0,y.P)("error",e||"Failed to create payment order.")}U({type:"loader",loader:!1});const s=a.data,r={key:"rzp_test_sbbCHuQzenmT45",amount:s.amount,currency:"INR",order_id:s.id,name:"ZozoKart",description:"Payment for your order",image:"/assets/images/logo/logo.png",handler:async e=>{if(null!==e&&void 0!==e&&e.razorpay_payment_id){U({type:"loader",loader:!0});const a=await x({addressId:d,paymentId:e.razorpay_payment_id,orderId:s.id,paymentSignature:e.razorpay_signature,paymentMethod:"Razorpay"});null!==a&&void 0!==a&&a.success?((0,y.P)("success",a.message),U({type:P.nP}),I("/order-success")):(0,y.P)("error",(null===a||void 0===a?void 0:a.message)||"Failed to place order after successful payment."),U({type:"loader",loader:!1})}else(0,y.P)("error","Payment failed or was cancelled."),U({type:"loader",loader:!1})},prefill:{name:(null===D||void 0===D?void 0:D.name)||"",email:(null===D||void 0===D?void 0:D.email)||"",contact:(null===(e=t.find((e=>e._id===d)))||void 0===e?void 0:e.phoneNumber)||""},theme:{color:"#3399cc"}};new window.Razorpay(r).open()}catch(s){console.error("Error initiating payment:",s),(0,y.P)("error","Failed to initiate payment.")}finally{U({type:"loader",loader:!1})}}else(async()=>{if(d)try{const e=await x({addressId:d,paymentId:"",orderId:"",paymentSignature:"",paymentMethod:"COD"});console.log(e),null!==e&&void 0!==e&&e.success?((0,y.P)("success",e.message),U({type:P.nP}),I("/order-success")):(0,y.P)("error",e.message||"Failed to place order.")}catch(s){(0,y.P)("error","Error placing order.")}else(0,y.P)("error","Please select a delivery address.")})()},disabled:!d,children:"Place Order"})]})})]})]})})};var F=s(1318),T=s.n(F),E=s(7458),z=s(2784);const $=()=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.A,{color:!0}),(0,C.jsx)(T(),{smooth:!0,color:"#FA6400"}),(0,C.jsx)(t.A,{}),(0,C.jsx)(E.A,{}),(0,C.jsx)(d.A,{title:"Checkout"}),(0,C.jsx)(S,{}),(0,C.jsx)(i.A,{}),(0,C.jsx)(z.A,{}),(0,C.jsx)(n.A,{})]})}}]);
//# sourceMappingURL=3074.52d05f6c.chunk.js.map