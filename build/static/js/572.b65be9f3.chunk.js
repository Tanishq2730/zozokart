"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[572],{2572:(e,s,c)=>{c.r(s),c.d(s,{default:()=>m});var a=c(5043),l=c(9958),r=c(895),t=c(223),i=c(507),d=c(2298),n=c(3216),o=c(579);const h=()=>{const[e,s]=(0,a.useState)({}),[c,l]=(0,a.useState)([]),[r,t]=(0,a.useState)([]),[h,u]=(0,a.useState)(!0),[m,f]=(0,a.useState)(!0),j=(0,n.zy)(),{categoryId:v,searchKey:x}=j.state||{};(0,a.useEffect)((()=>{(async()=>{try{const e=await(0,d.cQ)();e.success&&t(e.data)}catch(e){console.error("Error fetching filters:",e)}finally{f(!1)}})()}),[]),(0,a.useEffect)((()=>{(async e=>{u(!0);try{const s=Object.entries(e).filter((e=>{let[s,c]=e;return c&&c.length>0})).reduce(((e,s)=>{let[c,a]=s;return e[c]="PRICE_RANGE"===c||"DISCOUNT"===c?a[0]:a,e}),{}),c=await(0,d.j0)(s);c.success&&l(c.data)}catch(s){console.error("Error fetching products:",s)}finally{u(!1)}})(e)}),[e]),(0,a.useEffect)((()=>{s(v?{CATEGORIES:[v],searchKey:x}:{searchKey:x})}),[v,x]);const N=c;return(0,o.jsx)("div",{className:"container-fluid mt-4",children:(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-md-3 border-end",children:(0,o.jsxs)("div",{className:"mainfiltercard",children:[(0,o.jsx)("div",{className:"filtercard",children:(0,o.jsx)("h6",{className:"mb-4",children:"Filters"})}),(0,o.jsx)("div",{className:"",children:r.map((c=>(0,o.jsxs)("div",{className:"filtercard",children:[(0,o.jsx)("div",{className:"headfilter",children:(0,o.jsx)("h4",{children:c.title.replace("_"," ")})}),c.options.map((a=>{var l;const r=(null===(l=e[c.title])||void 0===l?void 0:l.includes(a.value))||!1;return(0,o.jsxs)("div",{className:"form-check mb-2",children:[(0,o.jsx)("input",{type:"checkbox",className:"form-check-input",id:a.value,checked:r,onChange:()=>{return e=c.title,l=a.value,void s((s=>{const c=s[e]||[];let a;return a="PRICE_RANGE"===e||"DISCOUNT"===e?c.includes(l)?[]:[l]:c.includes(l)?c.filter((e=>e!==l)):[...c,l],{...s,[e]:a}}));var e,l}}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:a.value,children:a.label})]},a.value)}))]},c.title)))})]})}),(0,o.jsx)("div",{className:"col-md-9",children:(0,o.jsx)("div",{className:"row",style:{backgroundColor:"#fff"},children:N.length>0?N.map((e=>(0,o.jsx)("div",{className:"col-md-3",children:(0,o.jsx)("div",{className:"catCard",children:(0,o.jsx)(i.A,{product:e},e._id)})},e.id))):(0,o.jsx)("div",{children:"No product found"})})})]})})};var u=c(9647);const m=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.A,{}),(0,o.jsx)(u.A,{}),(0,o.jsx)("div",{className:"categoryPagemain",children:(0,o.jsx)(h,{})}),(0,o.jsx)(r.A,{}),(0,o.jsx)(t.A,{})]})}}]);
//# sourceMappingURL=572.b65be9f3.chunk.js.map